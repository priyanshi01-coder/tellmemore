{% extends "dashboard/base.html" %}

{% block title %}Create Your Question Set{% endblock %}

{% block content %}
<div class="w-full min-h-screen bg-gradient-to-br from-[#190019] via-[#2B124C] to-[#522B5B] flex items-center justify-center p-8">
    <div class="w-full max-w-[1200px] rounded-3xl shadow-2xl p-12 text-[#FBE4D8]">
        <h2 class="text-4xl font-bold text-center mb-4">Create Your Question Set</h2>
        <form method="POST" class="space-y-6">
            {% csrf_token %}

            <!-- Topic Info -->
            <div>
                <label class="block mb-2 font-semibold">Topic Name *</label>
                <input type="text" name="topic_name" placeholder="Enter topic name" class="w-full p-3 rounded-xl bg-[#2B124C] border border-[#854F6C] focus:outline-none focus:ring-2 focus:ring-[#854F6C]" required />
            </div>
            <div>
                <label class="block mb-2 font-semibold">Short Description (optional)</label>
                <textarea name="short_description" placeholder="Optional description" class="w-full p-3 rounded-xl bg-[#2B124C] border border-[#854F6C] focus:outline-none focus:ring-2 focus:ring-[#854F6C]"></textarea>
            </div>

            <!-- Settings -->
            <div class="grid grid-cols-2 gap-6">
                <div>
                    <label class="block mb-2 font-semibold">Number of Questions</label>
                    <select name="num_questions" class="w-full p-3 rounded-xl bg-[#2B124C] border border-[#854F6C] focus:outline-none focus:ring-2 focus:ring-[#854F6C]">
                        <option value="1">1</option>
                        <option value="5">5</option>
                        <option value="10">10</option>
                        <option value="15">15</option>
                        <option value="20">20</option>
                    </select>
                </div>
                <div>
                    <label class="block mb-2 font-semibold">Time per Question (seconds)</label>
                    <input type="number" name="time_per_question" value="60" min="60" max="180" class="w-full p-3 rounded-xl bg-[#2B124C] border border-[#854F6C] focus:outline-none focus:ring-2 focus:ring-[#854F6C]" />
                </div>
            </div>

            <!-- Questions -->
            <div id="questions-container" class="space-y-4">
                <label class="block mb-2 font-semibold">Write Your Questions</label>
                <textarea name="question_1" placeholder="Write question 1" class="w-full p-3 rounded-xl bg-[#2B124C] border border-[#854F6C] focus:outline-none focus:ring-2 focus:ring-[#854F6C]" required></textarea>
            </div>
            <button type="button" onclick="addQuestion()" class="bg-[#854F6C] px-4 py-2 rounded-xl hover:bg-[#FBE4D8] hover:text-[#190019] font-semibold transition">+ Add Question</button>

            <!-- Submit -->
            <div class="text-center mt-6">
                <button type="submit" class="bg-[#854F6C] px-8 py-3 rounded-xl hover:bg-[#FBE4D8] hover:text-[#190019] font-semibold text-lg transition">
                    Save Question Set
                </button>
            </div>
        </form>
    </div>
</div>

<script>
let questionCount = 2;  // Start from 2 because 1 already exists
function addQuestion() {
    let container = document.getElementById('questions-container');
    let textarea = document.createElement('textarea');
    textarea.name = 'question_' + questionCount;
    textarea.placeholder = 'Write question ' + questionCount;
    textarea.className = 'w-full p-3 rounded-xl bg-[#2B124C] border border-[#854F6C] focus:outline-none focus:ring-2 focus:ring-[#854F6C]';
    container.appendChild(textarea);
    questionCount++;
}
</script>
{% endblock %}
